@{
    ViewBag.Title = "Home";
}

@section scripts {
    @Scripts.Render("~/bundles/app")
}

<div class="jumbotron" style="margin-top: 20px">
    <h1>Super Product Helper</h1>
    <p class="lead">When you wish to kill someone and don't know what to use.</p>
    <p data-bind="text: error"></p>
</div>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default">
            <div class="panel-heading">Preparation</div>
            <div class="panel-body">
                <p>Select ailments which you are instested in:</p>

                <div class="col-md-9">
                    <div class="">
                        <select id="selectAilments" class="selectpicker" multiple style="width: 100%" 
                                data-bind="selectedOptions: selectedAilmentsId, options: ailments, optionsText:'Name', optionsValue:'Id' ">
                        </select>
                    </div>
                </div>
                <div class="col-md-3">
                    <input type="button" class="btn btn-primary" value="Search" data-bind="click: searchFunction" />
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-6 col-md-offset-3">
        <div class="panel panel-default">
            <div class="panel-heading">Results</div>
            <div class="panel-body">
                <p>Here you can find your precious results to use:</p>
            </div>

            <table class="table">
                <thead>
                <tr>
                    <th>#</th>
                    <th>Name</th>
                    <th>Ailments</th>
                    <th>Ingredients</th>
                </tr>
                </thead>
                <!-- ko if: products().length -->
                <tbody data-bind="foreach: products">
                <tr>
                    <td data-bind="text: $index"></td>
                    <td data-bind="text: Name"></td>
                    <td>
                        <ul data-bind="foreach: Ailments">
                            <li data-bind="text: Name"></li>
                        </ul>
                    </td>
                    <td>
                        <ul data-bind="foreach: Ingredients">
                            <li data-bind="text: Name"></li>
                        </ul>
                    </td>
                </tr>
                </tbody>
                <!-- /ko -->
                <tbody data-bind="if: products().length === 0">
                    <tr>
                        <td class="text-center" colspan="3">No Data</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>